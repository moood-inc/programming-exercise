# Lesson 6

作業前に feature/lesson6 というブランチを main から作成しましょう。

## (1) for 文を使って繰り返しの処理をしてみましょう

配列で受け取った西暦を、それぞれ和暦に変換する関数を実装してみましょう。明治、大正、昭和、平成、令和の５種類と、年号をそれぞれプロパティに持つオブジェクトの配列を返しましょう。ただし、明治 45 年は大正 1 年、大正 15 年は昭和 1 年、昭和 64 年は平成 1 年、平成 31 年は令和 1 年として扱うとします。また、西暦 1867 年以前は例外を返すとします。

1. `lessons/lesson6/index.test.ts` を開いて、 skip されている 1 つ目のテストから `skip` を取る。
1. `yarn test` を実行して、テストが失敗することを確認する。
1. `lessons/lesson6/index.ts` の内容を編集して、Wareki 型の配列を返す `convertToWareki` 関数を完成させる。
1. `yarn test` を実行して、テストが通過することを確認する。

## (2) 数字の書かれたカードを引いていき、カードに書かれている数字の合計数が 21 以上になったらカードを引くのをやめて引いたカードの数字を出力する関数を実装してみましょう

カードの配列を受け取り、配列の 0 番目から順に取り出していって合計数が 21 以上になったら引くのをやめる関数を実装してみましょう。返ってくる値の結果は number 型の配列にしましょう。カードが無くなった場合も処理を中断し、「引けるカードなくなりました。」というメッセージと共に例外をスローしましょう。

1. `lessons/lesson6/index.test.ts` を開いて、 skip されている 2 つ目のテストから `skip` を取る。
1. `yarn test` を実行して、テストが失敗することを確認する。
1. `lessons/lesson6/index.ts` の内容を編集して、number の配列型を返す `drawUntil21` 関数を完成させる。
1. `yarn test` を実行して、テストが通過することを確認する。

## (3) 高階関数 map を使用して、配列で渡された User 型のオブジェクトに、別途渡された Gender 型の配列から gender プロパティを追加して返却する関数を実装してみましょう

map は組み込みの高階関数です。name と age を持つ User 型のデータに、gender プロパティを追加します。 第一引数に User 型の配列を、第二引数に Gender 型の配列を受け取る `addGenderProperty` 関数を実装してみましょう。第一引数と第二引数の長さが違う場合は、「入力データの配列の長さが異なります。」というエラーメッセージの例外をスローしましょう。

1. `lessons/lesson6/index.test.ts` を開いて、 skip されている 3 つ目のテストから `skip` を取る。
1. `yarn test` を実行して、テストが失敗することを確認する。
1. `lessons/lesson6/index.ts` の内容を編集して、User 型の配列を返す `addGenderProperty` 関数を完成させる。
1. `yarn test` を実行して、テストが通過することを確認する。

## (4) 階乗を計算する関数を実装してみましょう

reduce も組み込みの高階関数です。reduce を使用して、受け取った整数の階乗を計算してみましょう。

1. `lessons/lesson6/index.test.ts` を開いて、 skip されている 4 つ目のテストから `skip` を取る。
1. `yarn test` を実行して、テストが失敗することを確認する。
1. `lessons/lesson6/index.ts` の内容を編集して、string 型の配列を返す `make` 関数を完成させる。
1. `yarn test` を実行して、テストが通過することを確認する。

## (5) (1)〜(4)の内容を git で commit し、 push して Pull Request を作成してみましょう。

作業が終わったら、新しいブランチを作成して GitHub に push し、メンターにレビューを依頼してください。

1. CLI から `git add .` と入力し、作業したファイルを commit する
1. CLI から `git push origin feature/lesson-6` と入力し、push する
1. GitHub から、Create Pull Request を選択
1. Pull Request を作成し、やったことと動作確認項目を記述する
